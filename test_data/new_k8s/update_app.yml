variables:
  description: ceshi
data:
  resource:
    description: $description
  namespace: $NAMESPACE
  kubernetes:
    - apiVersion: extensions/v1beta1
      firstTimestamp: null
      kind: Deployment
      lastTimestamp: null
      metadata:
        name: $app_name
        namespace: $NAMESPACE
      spec:
        replicas: 1
        strategy:
          type: RollingUpdate
        selector:
          matchLabels:
            service.alauda.io/name: $app_name
        template:
          metadata:
            labels:
              service.alauda.io/name: $app_name
          spec:
            affinity: {}
            containers:
            - image: $IMAGE
              imagePullPolicy: Always
              name: $app_name
              resources:
                limits:
                  cpu: 20m
                  memory: 100M
                requests:
                  cpu: 20m
                  memory: 100M
    - apiVersion: autoscaling/v1
      firstTimestamp: null
      kind: HorizontalPodAutoscaler
      lastTimestamp: null
      metadata:
        name: $app_name
        namespace: $NAMESPACE
      spec:
        maxReplicas: 20
        minReplicas: 1
        scaleTargetRef:
          apiVersion: extensions/v1beta1
          kind: Deployment
          name: $app_name